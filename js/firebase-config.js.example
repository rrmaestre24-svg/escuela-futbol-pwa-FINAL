// ========================================
// CONFIGURACI√ìN DE FIREBASE - PLANTILLA
// ========================================

// ‚ö†Ô∏è ESTE ARCHIVO SE SUBE A GITHUB
// NO contiene credenciales reales

const firebaseConfig = {
  apiKey: "TU_API_KEY",
  authDomain: "TU_PROJECT.firebaseapp.com",
  projectId: "TU_PROJECT",
  storageBucket: "TU_PROJECT.appspot.com",
  messagingSenderId: "TU_ID",
  appId: "TU_APP_ID",
  measurementId: "G-TU_MEASUREMENT_ID"
};

// Inicializar Firebase
let db = null;
let auth = null;

async function initFirebase() {
  try {
    console.log('üî• Inicializando Firebase...');

    // Importar Firebase desde CDN
    const { initializeApp } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js');
    const { getFirestore, collection, doc, setDoc, getDoc, getDocs, updateDoc, deleteDoc, query, where } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
    const { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js');

    // Inicializar app
    const app = initializeApp(firebaseConfig);
    db = getFirestore(app);
    auth = getAuth(app);

    console.log('‚úÖ Firebase inicializado correctamente');
    console.log('üìä Base de datos:', db);

    // Guardar funciones en window para uso global
    window.firebase = {
      db,
      auth,
      collection,
      doc,
      setDoc,
      getDoc,
      getDocs,
      updateDoc,
      deleteDoc,
      query,
      where,
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      signOut
    };

    if (typeof showToast === 'function') {
      showToast('‚úÖ Conectado a Firebase');
    }
    return true;
  } catch (error) {
    console.error('‚ùå Error al inicializar Firebase:', error);
    if (typeof showToast === 'function') {
      showToast('‚ö†Ô∏è Error de conexi√≥n con Firebase');
    }
    return false;
  }
}

console.log('‚úÖ firebase-config.js.example cargado');